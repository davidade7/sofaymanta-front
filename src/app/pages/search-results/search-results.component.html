<div class="search-results-container">
  <app-search-input></app-search-input>

  <h1>Resultados para "{{ searchQuery }}"</h1>

  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Búsqueda en curso...</p>
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div *ngIf="!loading && !error" class="results-container">
    <p class="results-count" *ngIf="searchResults.length > 0">
      {{ searchResults.length }} resultado{{ searchResults.length > 1 ? 's' : '' }} encontrado{{ searchResults.length > 1 ? 's' : '' }}
    </p>

    <!-- Películas -->
    <div *ngIf="movies.length > 0" class="category-container">
      <div class="category-header">
        <lucide-icon [img]="Film"></lucide-icon>
        <h2>Películas ({{ movies.length }})</h2>
      </div>

      <div class="items-grid">
        <app-movie-card
          *ngFor="let movie of movies"
          [movie]="movie"
          (cardClick)="navigateToDetail('movie', movie.id)">
        </app-movie-card>
      </div>
    </div>

    <!-- Series TV -->
    <div *ngIf="tvShows.length > 0" class="category-container">
      <div class="category-header">
        <lucide-icon [img]="Tv"></lucide-icon>
        <h2>Series TV ({{ tvShows.length }})</h2>
      </div>

      <div class="items-grid">
        <app-serie-card
          *ngFor="let show of tvShows"
          [serie]="show"
          (cardClick)="navigateToDetail('tv', show.id)">
        </app-serie-card>
      </div>
    </div>

    <!-- Personas -->
    <div *ngIf="people.length > 0" class="category-container">
      <div class="category-header">
        <lucide-icon [img]="Users"></lucide-icon>
        <h2>Personas ({{ people.length }})</h2>
      </div>

      <div class="items-grid">
        <app-person-card
          *ngFor="let person of people"
          [person]="person"
          (cardClick)="navigateToDetail('tv', person.id)">
        </app-person-card>
      </div>
    </div>

    <div *ngIf="!hasResults()" class="no-results">
      <p>No se encontraron resultados para "{{ searchQuery }}".</p>
      <p>Intente con otros términos de búsqueda.</p>
    </div>
  </div>
</div>
